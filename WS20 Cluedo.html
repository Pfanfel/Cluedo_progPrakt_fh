<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="de" lang="de" xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- 
	This website is powered by TYPO3 - inspiring people to share!
	TYPO3 is a free open source Content Management Framework initially created by Kasper Skaarhoj and licensed under GNU/GPL.
	TYPO3 is copyright 1998-2015 of Kasper Skaarhoj. Extensions are copyright of their respective owners.
	Information and contribution at http://typo3.org/
-->

<base href="https://intern.fh-wedel.de/" />
<link rel="shortcut icon" href="https://intern.fh-wedel.de/fileadmin/templates/global_images/favicon2.ico" type="text/plain" />
<link rel="icon" href="https://intern.fh-wedel.de/fileadmin/templates/global_images/favicon2.ico" type="text/plain" />
<title>WS20: Cluedo</title>
<meta name="generator" content="TYPO3 4.5 CMS" />
<meta name="robots" content="noindex,nofollow" />

<link rel="stylesheet" type="text/css" href="typo3temp/stylesheet_c873240573.css?1554211959" media="all" />
<link rel="stylesheet" type="text/css" href="fileadmin/templates/relaunch/css/screen.css?1553104336" media="all" />
<link rel="stylesheet" type="text/css" href="fileadmin/templates/relaunch/css/ui.toptop.css?1343731825" media="all" />
<link rel="stylesheet" type="text/css" href="fileadmin/templates/relaunch/css/print.css?1351849892" media="print" />
<link rel="stylesheet" type="text/css" href="fileadmin/templates/relaunch/css/rte.css?1467202297" media="all" />



<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script src="fileadmin/templates/relaunch/js/jquery.equalheights.js?1343731827" type="text/javascript"></script>
<script src="typo3conf/ext/t3s_jslidernews/res/js/jquery.easing.js?1359726498" type="text/javascript"></script>
<script src="fileadmin/templates/relaunch/js/jquery.ui.totop.min.js?1343731827" type="text/javascript"></script>
<script src="fileadmin/templates/relaunch/js/jquery.client.js?1343731827" type="text/javascript"></script>
<script src="fileadmin/templates/relaunch/js/common.js?1349087014" type="text/javascript"></script>


<link rel="stylesheet" href="typo3conf/ext/perfectlightbox/res/css/slightbox.css" type="text/css" media="screen,projection" /><script type="text/javascript" src="typo3conf/ext/perfectlightbox/res/js/prototype.1.7.0.yui.js"></script>
<script type="text/javascript" src="typo3conf/ext/perfectlightbox/res/js/scriptaculous.js?load=effects,builder"></script><script type="text/javascript" src="typo3conf/ext/perfectlightbox/res/js/lightbox.2.0.5.yui.js"></script><script type="text/javascript">
	LightboxOptions.borderSize = 10;
	LightboxOptions.resizeSpeed = 400;
	LightboxOptions.overlayOpacity = 0.7;
	LightboxOptions.loop = true;
	LightboxOptions.allowSave = true;
	LightboxOptions.slideshowAutoplay = true;
	LightboxOptions.slideshowInterval = 2000;
	LightboxOptions.slideshowAutoclose = true;
	LightboxOptions.labelImage = 'Bild';
	LightboxOptions.labelOf = 'von';</script>


</head>
<body>


  <div id="wrapper">
      <div id="container">
          <div id="header"> 
              <div id="logo" class="left">
                  <a href="http://intern.fh-wedel.de" target="_top"><img src="fileadmin/templates/relaunch/images/fh_logo.png" width="212" height="106" border="0" alt="Fachhochschule Wedel" title="Fachhochschule Wedel" /></a>
                </div>
                <div id="top-navigation-container" class="left clearfix">
                       <div class="top-navigation-container-login"><span class="oclink"><a href="login/?return_url=index.php%3Fid%3D35213">Zum Login</a></span></div>
                    <div id="search" class="left clearfix">
                      <div class="tx-macinasearchbox-pi1">
		
<form action="suche/?L=0" method="post" name="searchform" id="searchform">
  <input name="tx_indexedsearch[sword]" class="searchbuttoninput" type="text" size="10" value="Suchen" onfocus=" if (this.value=='Suchen') {this.value=''}" />  
  <input type="hidden" name="tx_indexedsearch[_sections]" value="0" />
  <input type="hidden" name="tx_indexedsearch[pointer]" value="0" />
  <input type="hidden" name="tx_indexedsearch[ext]" value="0" />
  <input type="hidden" name="tx_indexedsearch[lang]" value="0" />
</form>

	</div>
	
                    </div>
                </div>
                <div id="main-navigation">
                   
              </div>
            </div>
            <div id="content" class="twocolumns"> 
               <!-- #breadcrumbs: Brotkrümmelnavigation --> 
              <div id="breadcrumbs">Sie sind hier:&nbsp;<a href="http://intern.fh-wedel.de">FH Wedel</a>&nbsp;&gt;&nbsp;<a href="https://intern.fh-wedel.de/mitarbeiter-innen/">Mitarbeiter</a>&nbsp;&gt;&nbsp;<a href="mitarbeiter/klk/" onfocus="blurLink(this);">Gerit Kaleck</a>&nbsp;&gt;&nbsp;<a href="mitarbeiter/klk/programmierpraktikum-java/" onfocus="blurLink(this);">Programmierpraktikum (Java)</a>&nbsp;&gt;&nbsp;<a href="mitarbeiter/klk/programmierpraktikum-java/aufgabentermine/" onfocus="blurLink(this);">Aufgaben/Termine</a>&nbsp;&gt;&nbsp;<a href="mitarbeiter/klk/programmierpraktikum-java/aufgabentermine/ws20-cluedo/" onfocus="blurLink(this);">WS20: Cluedo</a></div>
                <!-- #breadcrumbs: Ende -->
                <!-- #col1: Erste Float-Spalte des Inhaltsbereiches -->
                <div id="col1">
                    <div id="col1_content" class="clearfix">
                      <h2 class="submenu-header">Mitarbeiter</h2>
                      <div class="navbar"><ul style="position: relative; min-width: 0;"><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/ps2-uebung/">PS2-Übung</a></li><li class="elternMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/" onfocus="blurLink(this);">Programmierpraktikum (Java)</a><ul><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/anmeldung/">Anmeldung</a></li><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/zwischenstand/">Zwischenstand</a></li><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/fertigstellung/">Fertigstellung</a></li><li class="elternMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/aufgabentermine/" onfocus="blurLink(this);">Aufgaben/Termine</a><ul><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/aufgabentermine/ss21-labyrinth/">SS21: Labyrinth</a></li><li class="aktuellerMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/aufgabentermine/ws20-cluedo/" onfocus="blurLink(this);">WS20: Cluedo</a></li><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/aufgabentermine/ws19-dizzle/">WS19: Dizzle</a></li><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/aufgabentermine/ss19-scotlandyard/">SS19: ScotlandYard</a></li><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/aufgabentermine/ws18-pentago/">WS18: Pentago</a></li><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/aufgabentermine/ss18-citydomino/">SS18: CityDomino</a></li></ul></li><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/programmierpraktikum-java/tipps/">Tipps</a></li></ul></li><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/intellij-und-scenebuilder/">IntelliJ und SceneBuilder</a></li><li class="normalerMenuePunkt"><a href="mitarbeiter/klk/stipendienprogramme/">Stipendienprogramme</a></li></ul></div> <!-- class="navbar" -->
                    </div>
                </div>
                <!-- #col1: - Ende --> 
                          
                <!-- #col2: zweite Float-Spalte des Inhaltsbereiches -->              
                <div id="col2">
                    <div id="col2_content" class="clearfix">
                        <!--TYPO3SEARCH_begin-->
                            <div id="c42605" class="csc-default"><div class="csc-header csc-header-n1"><h1 class="csc-firstHeader">Aufgabenstellung: Cluedo</h1></div><p> Zu implementieren ist eine Spielvariante des bekannten Brettspiels &quot;<a href="https://de.wikipedia.org/wiki/Cluedo" target="_blank" class="external-link-new-window">Cluedo</a>&quot;: Im Landhaus von Graf Eutin ist ein Mord geschehen! Aber wer ist der Täter? Und mit welcher Tatwaffe wurde die Tat in welchem Raum des Hauses verübt? Detektivische Fähigkeiten sind zur Lösung gefragt! </p>
<p>Zum besseren Verständnis gibt es hier eine <a href="https://intern.fh-wedel.de/fileadmin/mitarbeiter/ne/SA/WS2021/Cluedo.exe" target="_blank" class="external-link-new-window">Beispiellösung</a> (die KI ist noch in Arbeit), die in Delphi umgesetzt wurde. Bindend bleibt aber in jedem Fall diese Aufgabenstellung - auch und gerade wenn das Beispielprogramm einige Dinge abweichend umsetzt! </p>
<p>Wer möchte darf auch diesen <a href="fileadmin/mitarbeiter/ne/SA/WS2021/Spielplan.jpg" class="download">Spielplan</a> verwenden. Ein anderer Plan kann nur verwendet werden, wenn alle Positionen und Benennungen gleich sind.</p>
<h3 id="spielregeln">Spielregeln</h3>
<p>Es sollen die <a href="fileadmin/mitarbeiter/ne/SA/WS2021/Spielanleitung.pdf" class="download">Originalspielregeln</a> umgesetzt werden für ein Spiel mit 3 bis 6 Spielern, wobei ein menschlicher Spieler gegen Computergegner spielt. Es gelten folgende Abweichungen von den Spielregeln bzw. Klarstellungen:<img height="359" width="346" src="fileadmin/mitarbeiter/ne/SA/WS2021/Cluedo.jpg" style="padding-left: 10px; float: right;" alt="" /></p><ul><li>der menschliche Spieler spielt immer Fräulein Ming (rot), die Computergegner (je nach ihrer Anzahl) spielen mit Oberst von Gatow (gelb), Frau Weiß (weiß), Direktor Grün (grün), Baronin von Porz (blau) und Professor Bloom (lila)</li><li>der Umschlag mit der Lösung muß nicht optisch dargestellt werden</li><li>die einzelnen Schritte auf dem Flur müssen nicht optisch dargestellt werden, es reicht eine geradlinige Bewegung (siehe Hilfe &quot;Kreis bewegen&quot;) auf die Endposition. Trotzdem darf dabei natürlich kein ungültiger Zug erfolgen!</li><li>bei einer Verdächtigung zeigt nicht nur der linke Nachbar eine Karte, sondern ALLE anderen Mitspieler, falls sie eine passende haben. Es bleibt aber bei maximal einer Karte pro Mitspieler, die gezeigt wird</li><li>hat der menschliche Spieler eine falsche Anklage geäußert, endet das Spiel mit einer aussagekräftigen Meldung (und läuft nicht nur mit den Computergegnern weiter)</li></ul><h3 id="darstellung">Darstellung</h3>
<p>Das Fenster teilt sich (abgesehen von ein paar Buttons bzw. einem Menü) in zwei große Bereiche auf: Auf der linken Seite ist der Spielplan mit den Räumen des Landhauses zu sehen. Dieser ist anklickbar und ermöglicht somit die Steuerung des menschlichen Spielers. Zusätzlich zu den Räumen sind hier die sechs Spielfiguren und die sechs Tatwaffen zu sehen, wobei hier jeweils eine relativ simple Darstellung ausreicht (farbige Kreise für die Spielfiguren, Textausgaben für die Tatwaffen). </p>
<p>Die rechte Fensterseite nimmt ein Bereich für die Notizen während des Spiels ein. Hier kann der menschliche Spieler sich also eintragen (bzw. dies geschieht zu Beginn teilweise schon automatisch bei der Kartenvergabe), welche Karten er selbst hat, welche davon er schon (wie oft bzw.&nbsp;wem) gezeigt hat und welche Karten er von anderen gesehen hat oder bei anderen Spielern vermutet (siehe Abschnitt &quot;Notizen&quot; weiter unten). </p>
<p>Es müssen von Euch nicht exakt dieselben Komponenten wie im Beispielprogramm verwendet werden. Die Übersichtlichkeit und Benutzbarkeit soll aber möglichst hoch sein, um dem Spieler den Spielspaß nicht zu vermiesen :-) </p>
<p>Die Auswahl der zu zeigenden Karte bei einer Verdächtigung eines anderen Spielers bzw. das Ergebnis bei einer eigenen Verdächtigung soll dem menschlichen Spieler ebenfalls möglichst übersichtlich präsentiert werden. </p>
<h3 id="ablaufUndSteuerung">Ablauf und Steuerung</h3>
<p>Zu Beginn eines neuen Spiels wird vom Nutzer abgefragt, wie viele Spieler teilnehmen sollen (3 bis 6). Dann wird zunächst einmal die Lösung des Falles festgelegt, indem jeweils eine Person, eine Tatwaffe und ein Raum zufällig aus allen Karten ausgewählt und in einen &quot;Umschlag&quot; gesteckt werden. Die restlichen Karten werden dann ebenfalls zufällig auf alle teilnehmenden Spieler verteilt. Dabei kann es passieren, daß nicht alle Spieler gleich viele Karten erhalten. Der Unterschied darf aber nie mehr als 1 betragen (es wird also reihum verteilt, begonnen mit dem menschlichen Spieler). Ebenso kann es durch den Zufall sein, daß ein Spieler nur Raum- und der andere nur Personen-Karten bekommt. </p>
<p>Es beginnt danach immer der menschliche Spieler mit der Figur von Fräulein Ming (rot). Für jeden Spieler (menschlich oder Computergegner) wird automatisch der Würfel geworfen und das Resultat angezeigt (eine Animation wie im Beispielprogramm ist nicht erforderlich). Der menschliche Spieler klickt dann entweder eine Kachel des Flures oder einen Raum an, Computerspieler werden von der KI gesteuert gesetzt. Kann er die Kachel bzw. den Raum mit der gewürfelten Zahl erreichen, wird seine Figur dorthin platziert. Andernfalls erscheint (nur beim menschlichen Spieler) eine Meldung, daß dieser Zug nicht möglich ist. Falls der Zug auf eine Flurkachel führte, ist direkt der nächste (Computer-)Spieler am Zug. Endete der Zug in einem Raum, spricht der Spieler eine Verdächtigung aus. Danach ist dann der nächste Spieler an der Reihe. </p>
<p>Dieser Ablauf wird reihum solange fortgeführt, bis ein Spieler die korrekte Lösung herausgefunden und geäußert hat (&quot;Anklage&quot;) bzw. bis der menschliche Spieler eine falsche Lösung geäußert hat. KI-Spieler sollen nur anklagen, wenn sie sich absolut sicher sind, diese kann dann also nicht verkehrt sein. </p>
<h3 id="notizen">Notizen</h3>
<p>Dem menschlichen Spieler soll es ermöglicht werden, während des Spiels umfangreiche Notizen anzulegen. Diese unterscheiden sich zwischen Notizen zu ihm selbst und zu den anderen Spielern: </p>
<p>Zu sich selbst (also zu Fräulein Ming) soll er für alle 21 Karten notieren können, ob es sich dabei um eine eigene Karte handelt, ob er diese Karte bereits 1x, 2x, 3x oder mehr als 3x gezeigt hat oder ob nichts davon zutrifft (also insgesamt 6 verschiedene Zustände). </p>
<p>Zu anderen Spielern soll er für alle 21 Karten notieren können, ob er diese Karte vom jeweiligen Spieler gesehen hat, ob dieser Spieler sie sicher nicht hat, ob diese Karte Teil eines Verdachtes ist (in vier Varianten: A, B, C, D) oder ob nichts davon zutrifft (also insgesamt 7 verschiedene Zustände). Ein &quot;Verdacht&quot; meint dabei folgendes: Wenn der menschliche Spieler &quot;sieht&quot;, daß ein Computerspieler bei einer Verdächtigung eine Karte zeigt, dann weiß er erstmal nur, daß es eine von den drei verdächtigten Karten sein muß, aber nicht genau, welche. Bei einer Verdächtigung &quot;Frau Weiß, Seil, Salon&quot; könnte also bei allen drei Karten ein &quot;Verdacht A&quot; notiert werden (entsprechend bei einer folgenden Verdächtigung dann Verdacht B usw.). Durch im weiteren Verlauf gezeigte Karten können sich dann die Karten so eines Verdachtes dann soweit reduzieren, daß klar wird, welche Karte der Computerspieler ursprünglich gezeigt haben muß und diese kann dann von &quot;Verdacht A&quot; auf &quot;gesehen&quot; gesetzt werden. </p>
<p>Eine mögliche Umsetzung der Notizen zeigt das Beispielprogramm. Andere Implementationen mit anderen Komponenten sind natürlich auch zugelassen. Denkt aber immer an eine einfache und intuitive Bedienbarkeit! </p>
<h3 id="dateien">Dateien</h3>
<h4 id="initialisierungsdatei">Initialisierungsdatei</h4>
<p>Wer möchte, kann die Datei <a href="fileadmin/mitarbeiter/klk/Programmierpraktikum/WS20_Cluedo/cluedo.json" class="download"><code>cluedo.json</code></a> <span class="green">[fehlerhafte Türen an Arbeits- und Speisezimmer am 8.10. korrigiert, center des Arbeitszimmers am 7.1.21 korrigiert] </span>zur Initialisierung seines Programmes nutzen. Sie enthält</p><ul><li>alle Personen mit ihren Startpositionen</li><li>alle Räume mit einer mittigen Positionsangabe und allen Türpositionen</li><li>alle Waffen</li></ul><p>Die Positionsangaben beginnen anders als im Beispielprogramm links oben bei 0/0. Diese Datei darf nach eigenen Wünschen angepasst werden. Wird sie verwendet, muß sie in die jar eingebunden werden, damit davon ausgegangen werden kann, daß sie zur Laufzeit zur Verfügung steht und korrekten Inhalt beherbergt.</p>
<h4 id="spielstandsdatei">Spielstandsdatei</h4>
<p>Bevor der Nutzer seinen Zug tätigt (also nicht zwischen mehreren Computerzügen), kann er den aktuellen Spielstand abspeichern oder einen gespeicherten Spielstand laden. Beim Laden eines Spielstandes oder beim Klick auf &quot;Neues Spiel&quot; soll zudem proaktiv eine Nachfrage erscheinen, ob der aktuelle Spielstand vorab gespeichert werden soll. </p>
<p>Eine Spielstandsdatei hat die Dateiendung json und enthält folgende für den Menschen lesbare Einträge:</p><ul><li>die teilnehmenden Spieler<ul><li>Spielername</li><li><span class="green">[erweitert am 23.9.] </span><span class="green">Intelligenz (&quot;dumm&quot;, &quot;normal&quot;, &quot;schlau&quot;)</span></li><li>Aufenthaltsort (einer der Räume oder der Flur)</li><li>genaue Position</li><li><span class="green">[erweitert am 14.7.] ob aktuell in den Raum gewünscht (durch Verdächtigung) -&gt; darf im nächsten Zug bleiben und selbst Verdächtigung äußern</span></li><li>Karten (Personenkarten, Räume, Waffen)</li></ul></li><li>die Waffen<ul><li>Bezeichnung</li><li>Aufenthaltsort (einer der Räume)</li></ul> </li><li>die Notizen <span class="green">[erweitert am 23.9.] jedes </span><del>des menschlichen</del> Spielers<ul><li>jeweils zu jeder der 6 Personen<ul><li>für jede Person, jeden Raum und jede Waffe einer der Werte<br /><ul><li>bei der eigenen Person: &quot;-&quot;, &quot;eigene Karte&quot;, &quot;1x gezeigt&quot;, &quot;2x gezeigt&quot;,&quot;3x gezeigt&quot;,&quot;&gt;3x gezeigt&quot;</li><li>bei den anderen: &quot;-&quot;, &quot;gesehen&quot;, &quot;hat nicht&quot;, &quot;Verdacht A&quot;, &quot;Verdacht B&quot;, &quot;Verdacht C&quot;, &quot;Verdacht D&quot;</li></ul></li></ul></li></ul></li></ul><p>Zum Testen und Vergleichen stellen wir Euch hier eine <a href="fileadmin/mitarbeiter/klk/Programmierpraktikum/WS20_Cluedo/Spielstand.json" class="download">Beispieldatei</a> <span class="green">[y-Position von Gatow korrigiert am 9.12.] </span>zur Verfügung, deren Positionsangaben obiges Bild abbilden. </p>
<p>Die Angaben von Spielern, Räumen und Waffen erfolgen immer als menschenlesbarer String, müssen also für die Verarbeitung im Programm umgesetzt werden (zu Enums). Der Lesbarkeit ist auch zu schulden, daß doppelte Angaben erfolgen, wie die Position eines Spielers mit Raumangabe und konkreter Position. </p>
<p>Beim Laden einer Spielstandsdatei ist sicherzustellen, daß diese vollständig und korrekt aufgebaut ist. Andernfalls soll eine Fehlermeldung erscheinen und das Spiel wird mit dem vorherigen Zustand fortgeführt. </p>
<h3 id="ki">KI</h3>
<p>Jeder der KI-Spieler soll einer von drei Stärken zugeordnet werden können: dumm, normal und schlau. </p>
<p>Die &quot;<strong>dumme</strong>&quot; KI geht von der aktuellen Position aus immer zum nähesten Raum, der noch offen ist (also bisher nicht als Tatraum ausgeschlossen werden konnte). Falls der KI-Spieler sich aktuell in einem Raum befindet, wird dieser nicht mit in die Betrachtung einbezogen, welcher Raum der &quot;näheste&quot; ist. Ansonsten ist hier ein Wegfindealgorithmus umzusetzen, der über den Flur (aber ohne Geheimgänge) die Entfernungen zu anderen Räumen berechnet. Andere Spieler, die auf dem Flur stehen, müssen dabei berücksichtigt werden. Sie verlängern also ggf. den Weg bzw. machen ihn sogar unmöglich, wenn sie direkt vor einer Tür stehen.<br />Sollte nur noch ein einziger Raum &quot;offen&quot; sein, der Spieler befindet sich darin und muß ihn verlassen, dann bewegt er sich zu einem zufälligen anderen Raum.<br />Wenn die &quot;dumme&quot; KI einen Verdacht äußert, werden die Personen dabei von unten nach oben (angefangen mit Prof. Bloom) und die Waffen von oben nach unten durchgegangen (angefangen mit der Pistole). Es werden allerdings nur &quot;offene&quot; Karten verdächtigt, also solche, die die KI weder selbst besitzt, noch bisher schon gesehen hat.<br />Gleiches gilt, wenn die KI selbst Karten zeigen muß: Falls mehrere möglich sind, wird auch hier von oben nach unten die erste genommen (also eher Personen als Waffen und eher Waffen als Räume). </p>
<p>Die &quot;<strong>normale</strong>&quot; KI bewegt sich wie die &quot;dumme&quot; KI, berücksichtigt dabei allerdings auch Geheimgänge.<br />Bei einer Verdächtigung werden die Personen diesmal von oben nach unten verdächtigt, um somit möglichst andere Spieler von ihrer aktuellen Position &quot;wegzuwünschen&quot;. Die Waffen werden weiterhin ebenfalls von oben nach unten verdächtigt. Auch hier soll wieder nur nach noch &quot;offenen&quot; Karten gefragt werden.<br />Beim Zeigen von Karten sollen solche Karten bevorzugt gezeigt werden, die man vorher bereits gezeigt hat - je häufiger, desto besser. Es muß sich hier also pro Karte gemerkt werden, wie oft diese schon gezeigt wurde. Stehen dann mehrere Karten zur Auswahl, nimmt man die bisher schon am häufigsten gezeigte. Bei mehreren gleich häufigen gilt wieder die Reihenfolge von oben nach unten. </p>
<p>Die &quot;<strong>schlaue</strong>&quot; KI bewegt sich genau wie die &quot;normale&quot; KI.<br />Bei einer Verdächtigung ist sie die einzige KI-Stärke, die auch nach eigenen Karten fragen kann, um das Zeigen bestimmter anderer Karten zu erzwingen. Konkret soll dies angewandt werden, wenn die Person und die Waffe schon festgelegt werden konnten und nur noch der Raum fehlt: In diesem Fall soll die &quot;schlaue&quot; KI dann statt der tatsächlichen Tatperson und -waffe soweit möglich nach eigenen Personen- und Waffenkarten fragen (wieder von oben nach unten), um so die Mitspieler ggf. wegzuwünschen und auch nicht zu offensichtlich zu machen, welches Wissen die KI schon hat. Ansonsten verhält die KI sich wie die &quot;normale&quot; KI bei Verdächtigungen. Es soll sich aber zusätzlich gemerkt werden, welche Verdächtigungen die anderen Spieler ausgesprochen und von welchen Spielern sie daraufhin Karten gesehen haben. So läßt sich später ggf. auf einzelne Karten schließen, die dann &quot;abgehakt&quot; werden können.<br />Beim Zeigen von Karten soll die &quot;schlaue&quot; KI sich merken, wem sie bereits welche Karten gezeigt hat und diese wenn möglich erneut zeigen. Falls das nicht möglich ist, verhält sie sich wie die &quot;normale&quot; KI. </p>
<p>Ein KI-Spieler gibt erst dann seine Anklage (Person, Waffe und Raum) bekannt, wenn er sich komplett sicher ist. Dann wird dies über eine Meldung dem menschlichen Spieler mitgeteilt (z.B. &quot;Anklage: Oberst von Gatow hat den Fall gelöst: Prof. Bloom, Seil, Veranda&quot;) und das Spiel endet. Anklagen kann eine KI immer dann, wenn sie am Zug ist, also entweder vor dem Ziehen oder nach einem geäußerten Verdacht. </p>
<p>Beachtet bei der KI, daß viele Routinen und Algorithmen bei allen drei KI-Stärken wiederverwendet werden können, wenn man sinnvoll modularisiert!<br />Sollte sich eine Figur (menschlicher Spieler oder KI) gar nicht bewegen können, weil alle umliegenden Flurfelder belegt oder alle Türen blockiert sind, bleibt sie einfach stehen und darf dann - falls es ein Raum ist - dort auch (erneut) eine Verdächtigung aussprechen. </p>
<p>&nbsp;</p>
<h2 id="hilfe">Hilfe</h2>
<h4 id="jsonParsen"><a name="parseJSON"></a>JSON parsen</h4>
<p>JSON ist ein für Menschen lesbares Dateiformat, um Daten zu übertragen. Beispiel:</p>
<pre>{ <br /> &nbsp;&quot;FirstName&quot;: &nbsp;&quot;Harry&quot;,<br /> &nbsp;&quot;LastName&quot;: &nbsp;&quot;Potter&quot;,<br /> &nbsp;&quot;Birthday&quot;: {<br /> &nbsp; &nbsp; &quot;Day&quot;: 31,<br /> &nbsp;&nbsp; &nbsp;&quot;Month&quot;: 7,<br /> &nbsp;&nbsp; &nbsp;&quot;Year&quot;: 1980, <br /> &nbsp;}, <br /> &nbsp;&quot;Friends&quot;: [&quot;Hermione&quot;, &quot;Ron&quot;, &quot;Neville&quot;]<br /> }</pre>
<p>&nbsp;</p>
<p>Um eine JSON-Datei zu parsen, gibt es diverse Bibliotheken.<br /> <a href="http://json.org" target="_blank">Die offizielle Website für json</a> bietet eine Übersicht über verschiedene Bibliotheken für verschiedene Sprachen an. In der aktuellen Bonusaufgabe nutzen wir <a href="https://github.com/google/gson" target="_blank">GSON</a>.</p>
<p>Für nähere Informationen, wie GSON genau benutzt werden kann, kann man im <a href="http://www.studytrails.com/java/json/java-google-json-introduction/" target="_blank">Tutorial von studytrails</a> (oder z.B. <a href="https://mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/" target="_blank" class="external-link-new-window">hier</a>) nachsehen.</p>
<p>Um eine unserer gegebenen Dateien einzulesen, kann der folgende Code genutzt werden. Beachtet, dass es sinnvoll sein kann, den Code etwas anders zu strukturieren.</p>
<pre>&nbsp;File f = ... //the file that you want to read<br /> Reader r = new FileReader(f); <br /> Gson gson = new Gson(); <br /> GraphDataJSON graphData = gson.fromJson(r, GraphDataJSON.class); </pre>
<p>Die Variable <code>graphData</code> enthält jetzt alle Informationen aus der JSON-Datei und kann verarbeitet werden (z. B. transformieren, nach logischen Fehlern durchsuchen...).</p>
<p>Wenn die gelesene Datei eine ungültige JSON-Struktur enthält, wird eine <code>com.google.gson.JsonParseException</code> ausgelöst. Diese Exception muss an der richtigen Stelle abgefangen und behandelt werden.</p>
<p>Um beim Schreiben der JSON-Struktur eine lesbar formatierte Ausgabe zu erhalten, sollte <em>pretty Printing</em> genutzt werden. Verwendet dafür den GsonBuilder beim Erstellen eines Gson-Elements:</p>
<pre> <code>Gson gson = new GsonBuilder().setPrettyPrinting().create();</code></pre>
<pre>&nbsp;</pre>
<h4 id="fileChooser"><a name="FileChooser"></a>FileChooser Dialog im korrekten Verzeichnis öffnen</h4>
<p>Beim Öffnen eines FileChooser-Dialogs ist es nutzerfreundlich, ihn in dem Verzeichnis zu öffnen, in dem sich die jar des ausgeführten Projektes befindet. Der folgende Code kann dafür genutzt werden:</p>
<pre> &nbsp;//Step 1: Figure out where we are currently are, so we can open the dialog in <br /> &nbsp;//the same directory the jar is located. See also <br /> &nbsp;//https://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file <br /> &nbsp;File currDir = null; <br /> &nbsp;try { <br /> &nbsp;&nbsp;&nbsp; currDir = new File(FXMLDocumentController.class.getProtectionDomain() <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .getCodeSource().getLocation().toURI()); <br /> &nbsp;} catch (URISyntaxException ex) { <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//oops... ¯\_(ツ)_/¯ <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//guess we won't be opening the dialog in the right directory <br /> &nbsp;} <br /> &nbsp;//Step 2: Put it together <br /> &nbsp;FileChooser fileChooser = new FileChooser(); <br /> &nbsp;if (currDir != null) { <br /> &nbsp;&nbsp;&nbsp; //ensure the dialog opens in the correct directory <br /> &nbsp;&nbsp; &nbsp;fileChooser.setInitialDirectory(currDir.getParentFile()); <br /> &nbsp;} <br /> &nbsp;fileChooser.setTitle(&quot;Open JSON Graph-File&quot;); <br /> &nbsp;//Step 3: Open the Dialog (set window owner, so nothing in the original window <br /> &nbsp;//can be changed) <br /> &nbsp;File selectedFile = fileChooser.showOpenDialog( anchrPnMain.getScene().getWindow()); </pre>
<p>&nbsp;</p>
<h4 id="errorMessages"><a name="ErrorMessages"></a>Eine Fehlermeldung auf der GUI ausgeben</h4>
<p>Um den Nutzer über die GUI zu informieren, kann ein <code>Alert</code> genutzt werden. Hat man unterschiedliche Exceptions, die jeweils Informationen zu unterschiedlichen aufgetretenen Problemen bereitstellen, muss ein Konstrukt mit <code>if .. else if ..</code> mit <code>instanceof</code> aufgestellt werden, da ein <code>switch</code> nicht mit dem <code>instanceof</code>-Operator arbeiten kann. Im folgenden Beispiel ist <code>SomeSuperclassException</code> die SuperKlasse von <code>SomeSpecificException</code> und <code>AnotherSpecificException</code>.</p>
<pre>public void displayError(SomeSuperclassException ex) { <br />&nbsp;&nbsp;Alert alert = new Alert(AlertType.ERROR); <br />&nbsp; alert.setTitle(&quot;Error Somewhere&quot;); <br />&nbsp; alert.setHeaderText(&quot;Some general information about the error.&quot;); <br />&nbsp;&nbsp;if (ex instanceof SomeSpecificException) { <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setContentText(&quot;Some information &quot; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + ((SomeSpecificException) ex).getSomeAttribut()); <br />&nbsp;&nbsp;} else if (ex instanceof AnotherSpecificException) { <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alert.setContentText(&quot;Some other information <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + ((AnotherSpecificException) ex).getSomeAttribut() <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot; and some more information &quot;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + ((AnotherSpecificException) ex).getSomeOtherAttribut()); <br />&nbsp;} <br />&nbsp;alert.showAndWait();</pre>
<p>&nbsp;</p>
<h4 id="einBildMitAbsoluterPfadangabeLaden">Ein <a name="LoadImage"></a>Bild mit absoluter Pfadangabe laden</h4>
<pre>&nbsp; Image img = new Image(&quot;file:&quot; + absoluteFilePath); </pre>
<p>Oder bei vorhandener Datei:</p>
<pre>&nbsp; Image img = new Image(&quot;file:&quot; + imgFile.getAbsolutePath()); </pre>
<p>&nbsp;</p>
<h4 id="stringsZuEinerKorrektenPfadangabeZusammenfuegen">Strings zu einer korrekten Pfadangabe zusammenfügen</h4>
<p>Nutzen Sie gerne <code>Paths.get(...)</code> (siehe <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html" target="_blank">Oracle Documentation</a>).</p>
<p>&nbsp;</p>
<h4 id="komponenteMitDuennemRandVersehen">Komponente mit dünnem <a name="Border">Rand</a> versehen</h4>
<pre>&nbsp; pn.setStyle(&quot;-fx-border-color: black&quot;);</pre>
<p>&nbsp;</p>
<h4 id="imageviewInGroesseAnElternknotenAnpassen"><a name="ResizeImageView"></a>ImageView in Größe an Elternknoten anpassen</h4>
<pre> &nbsp;imgVw.fitWidthProperty().bind(parentPn.widthProperty()); <br /> &nbsp;imgVw.fitHeightProperty().bind(parentPn.heightProperty());</pre>
<pre>&nbsp;</pre>
<h4 id="kreisBewegen">Kreis bewegen</h4>
<p>Hierfür ist eine <a href="https://docs.oracle.com/javafx/2/api/javafx/animation/TranslateTransition.html" target="_blank" class="external-link-new-window">TranslateTransition</a> hilfreich:</p>
<pre> &nbsp;Circle circ = <span class="keyword">new</span>&nbsp;Circle(50, 100, 50); <br /> &nbsp;circ.setFill(Color.RED); <br /> &nbsp; <br /> &nbsp;TranslateTransition tt = new TranslateTransition(Duration.millis(2000), circ); <br /> &nbsp;tt.setToX(200f); <br /> &nbsp;tt.setToY(100f); <br /> &nbsp; <br /> &nbsp;tt.play();</pre>
<p>Die Animation muss in der JavaFXGUI stattfinden. Eine entsprechende Methode müsste erfahren, wessen Spielerfigur (Kreis) sie zu welcher logischen Position verschieben soll, um das in Bildkoordinaten umgerechnet ausführen zu können.&nbsp;</p>
<p>&nbsp;</p>
<h2 id="zwischenstand">Zwischenstand</h2>
<p>Bei der Abnahme des Zwischenstands müssen die <a href="mitarbeiter/klk/programmierpraktikum-java/zwischenstand/vorgaben/" class="internal-link">Vorgaben</a> erfüllt werden:</p><ul><li><strong>GUI</strong><ul><li>Die Mindestgröße des Fensters muss kleiner oder gleich 1500x800 Pixel sein.</li><li>Alle für die Bedienung des Spiels notwendigen Komponenten müssen in einer FXML-Datei vorhanden, aber noch nicht nach Programmstart bedienbar sein.&nbsp; Ist beispielsweise ein zusätzliches Fenster notwendig, so muss dies mit seinen Komponenten vorhanden sein, aber noch nicht in einem Programmfluss geöffnet werden.</li><li>Der Spielplan muss erkennbar sein und sich in seiner Größe anpassen, wenn die Fenstergröße verändert wird.</li><li>Mindestens eine Figur muss an ihrer Startposition stehen und sich bei Ändern der Fenstergröße mit bewegen.</li></ul></li><li><strong>Datenstrukturen </strong>müssen erkennen lassen<ul><li> Über einen Konstruktor muss eine Spielsituation erstellbar sein.</li><li>Die Datenstruktur des Feldes muss abgelegt sein. </li><li>Es muss erkennbar sein, wie/wo eine Person, ein Spieler, eine Waffe und ein Raum abgebildet werden und in welchem Verhältnis beispielsweise Raum zu Waffe steht.</li><li>Es soll diskutiert werden können, an welcher Stelle die Methoden zum Ermitteln eines KI-Zuges und einer KI-Verdächtigung stehen sollen.</li></ul></li><li><strong>Tests </strong>dürfen noch fehlschlagen, müssen aber vorhanden und kompilierbar sein und natürlich die korrekten Erwartungswerte enthalten. Mehrere Konstruktoren sind zu erstellen, um eine Spielsituation für einen Test erstellen zu können. <strong>Mindestens </strong>folgende Testfälle müssen abgedeckt werden:<ul><li>Wird der korrekte Raum zu einer Position identifiziert?<ul><li>beliebige Position in einem Raum, </li><li>Position außerhalb des Hauses,</li><li> Position im Treppenhaus, </li><li>Position im Flur</li></ul></li><li>Ist ein Zug von einer gegebenen Position mit gegebenen Schritten möglich?<ul><li>geradliniger Weg, </li><li>Weg mit einer Ecke, </li><li>Weg um anderen Spieler herum, </li><li>versperrter Weg</li><li>Weg ein Schritt zu weit</li></ul></li><li>Kann ein Raum von der gegebenen Position betreten werden?<ul><li>Tests für 4 Türen verschiedener Räume und für mindestens eine Nicht-Tür <span class="green">[Verdeutlichung vom 4.10.] Mit Nicht-Tür ist ein Feld auf dem Flur gemeint, das nicht direkt an einer Tür liegt, aber direkt an einer Raumwand.</span></li></ul></li><li>Kann ein bestimmter Raum von gegebener Position mit gegebenen Schritten betreten werden?<ul><li>mit Schritten erreichbarer Raum</li><li>mit Nutzung eines Geheimweges</li></ul></li></ul></li></ul><p>&nbsp;</p>
<h2>Viel Erfolg!</h2></div> 
                        <!--TYPO3SEARCH_end-->                
                    </div>
                </div>
                <!-- #col2: - Ende -->                  
                <div style="clear:both; height:85px;"></div>
            </div>
        </div>
    </div>
    <div id="footer-container">
        <div id="footer">
          <span class="footer-background-container"></span>
              <div class="footer-block footer-block-content kontakt"><h3>Kontakt FH Wedel</h3><div id="c17865" class="csc-default"><p>Fachhochschule&nbsp;Wedel&nbsp;gGmbH<br />Feldstraße&nbsp;143,&nbsp;22880&nbsp;Wedel</p></div></div>    <div class="footer-block recht-und-mehr"><ul><li><a href="datenschutz/" onfocus="blurLink(this);">Datenschutz</a></li><li><a href="impressum/" onfocus="blurLink(this);">Impressum</a></li></ul></div>
        </div>
    </div>




</body>
</html>